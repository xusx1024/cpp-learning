# 函数
---

在C++语言中,名字有作用域,对象有生命周期,理解这两个概念非常重要.

局部静态对象:

在程序的执行路径第一次经过对象定义语句时初始化,并且直到程序终止才被销毁,在此期间即使对象所在
的函数结束执行也不会对它有影响.

java中没有静态的局部变量.

用处是?
作用域是局部的,生命周期是整个运行时的.
多次调用该方法,可以拿到上次的值.

---

函数声明

函数的名字也必须在使用之前声明.类似于变量,函数只能定义一次,但可以声明多次.

函数声明无须函数体,用一个分号替代即可.

因为无须函数体,所以也无须形参名字.尽管,写上形参的名字还是有用处的,可以帮助使用者更好地理解
函数的功能.

函数声明也称作函数原型.

建议变量,函数在头文件中声明,在源文件中定义.

>`BestPractice`:含有函数声明的头文件应该被包含到定义函数的源文件中.

形参初始化的机理与变量初始化一样.

如果形参是引用类型,它将绑定到对应的实参上;否则,将实参的值拷贝后赋给形参.java中也一样.

>`BestPractice`:熟悉C的程序员常常使用指针类型的形参访问函数外部的对象.在C++语言中,建议使
用引用类型的形参替代指针.

>`BestPractice`:如果函数无须改变引用形参的值,最好将其声明为常量引用.

---

数组的两个特性:
- 不允许拷贝 导致 无法以值传递的方式使用数组参数
- 使用数组时(通常)会将其转换成指针 导致 传递的参数时指向数组首元素的指针

```
void print(const int*)
void print(const int[])
void print(const int[10])
```
尽管表现形式不同,但上面的三个函数是等价的:每个函数的唯一形参都是const int*.
当编译器处理对print函数的调用时,只检查传入的参数是否是const int*.
注意,判断的是数组首元素的指针,所以:
```
int i=0,j[2] = {1,2};
print(&i);//正确:&i的类型是int*
print(j);//正确:j转换成int*并指向j[0]
```

```
// 正确:形参是数组的引用,维度是类型的一部分
void print(int (&arr)[10])
{
  for(auto elem : arr)
  {
    cout << elem << endl;
  }
}
```
&arr两端的括号必不可少:
int &arr[10]:arr被声明为引用的数组
int (&arr)[10]:具有10个整数的整型数组的引用

`快乐风男`
